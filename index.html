<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Ref 3.0</title>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; text-align: center; margin: 0; padding: 5px; }
        .timer { font-size: 2.2rem; font-weight: bold; color: #ffcc00; margin: 5px 0; }
        .score-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 5px; }
        .team-c { grid-column: span 2; margin-top: 5px; }
        .box { background: #1a1a1a; padding: 8px; border-radius: 10px; border: 1px solid #333; }
        .score { font-size: 1.5rem; display: block; }
        .btn { border: none; padding: 8px; border-radius: 5px; font-weight: bold; width: 100%; margin-top: 5px; }
        .goal { background: #00ff00; color: #000; }
        .reset { background: #444; color: #fff; font-size: 0.6rem; }
    </style>
</head>
<body>
    <div class="timer" id="disp">10:00</div>
    <div class="score-grid">
        <div class="box">
            <span style="color:#ffcc00;font-size:0.7rem;">TEAM A</span>
            <span class="score" id="sA">0</span>
            <button class="btn goal" onclick="goal('A')">+</button>
        </div>
        <div class="box">
            <span style="color:#00e5ff;font-size:0.7rem;">TEAM B</span>
            <span class="score" id="sB">0</span>
            <button class="btn goal" onclick="goal('B')">+</button>
        </div>
        <div class="box team-c" id="boxC" style="display:none;">
            <span style="color:#ff4444;font-size:0.7rem;">TEAM C</span>
            <span class="score" id="sC">0</span>
            <button class="btn goal" onclick="goal('C')">+</button>
        </div>
    </div>
    <button class="btn" id="startBtn" onclick="toggleT()" style="background:#ffcc00;">START</button>
    <button class="btn reset" onclick="resetAll()">RESET ALL</button>

    <script>
        let time = 600, running = false, interval;
        let scores = { A: 0, B: 0, C: 0 };

        // Sync with Phone Mode (if possible, or manual toggle)
        if(confirm("Playing with 3 Teams?")) { document.getElementById('boxC').style.display = 'block'; }

        function toggleT() {
            if(running) { clearInterval(interval); document.getElementById('startBtn').innerText = "START"; }
            else { interval = setInterval(updateT, 1000); document.getElementById('startBtn').innerText = "PAUSE"; }
            running = !running;
        }

        function updateT() {
            if(time <= 0) { clearInterval(interval); alert("Match Over!"); return; }
            time--;
            let m = Math.floor(time/60), s = time%60;
            document.getElementById('disp').innerText = `${m}:${s<10?'0':''}${s}`;
        }

        function goal(t) { scores[t]++; document.getElementById('s'+t).innerText = scores[t]; }
        function resetAll() {
            scores = { A: 0, B: 0, C: 0 };
            time = 600;
            document.getElementById('sA').innerText = 0;
            document.getElementById('sB').innerText = 0;
            document.getElementById('sC').innerText = 0;
            document.getElementById('disp').innerText = "10:00";
        }
    </script>
</body>
</html>
